!function(e,i,n,o){e.fn.modal=function(t){var s,r=e(this),a=e(i),c=e(n),l=e("body"),d=(new Date).getTime(),u=[],m=arguments[0],f="string"==typeof m,h=[].slice.call(arguments,1),g=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var p,b,v,y,w,k,H=e.isPlainObject(t)?e.extend(!0,{},e.fn.modal.settings,t):e.extend({},e.fn.modal.settings),S=H.selector,x=H.className,z=H.namespace,A=H.error,D="."+z,F="module-"+z,T=r.selector||"",C=e(this),M=e(H.context),O=C.find(S.close),j=this,E=C.data(F);k={initialize:function(){return k.verbose("Initializing dimmer",M),e.fn.dimmer===o?(k.error(A.dimmer),void 0):(y=M.dimmer({closable:!1,useCSS:!0,duration:{show:.9*H.duration,hide:1.1*H.duration}}),H.detachable&&y.dimmer("add content",C),w=y.dimmer("get dimmer"),k.refreshSelectors(),k.verbose("Attaching close events",O),O.on("click"+D,k.event.close),a.on("resize"+D,k.event.resize),k.instantiate(),void 0)},instantiate:function(){k.verbose("Storing instance of modal"),E=k,C.data(F,E)},destroy:function(){k.verbose("Destroying previous modal"),C.removeData(F).off(D),O.off(D),M.dimmer("destroy")},refresh:function(){k.remove.scrolling(),k.cacheSizes(),k.set.screenHeight(),k.set.type(),k.set.position()},refreshSelectors:function(){b=C.siblings(S.modal),p=b.add(C)},attachEvents:function(i,n){var o=e(i);n=e.isFunction(k[n])?k[n]:k.toggle,o.size()>0?(k.debug("Attaching modal events to element",i,n),o.off(D).on("click"+D,n)):k.error(A.notFound)},event:{close:function(){k.verbose("Closing element pressed"),e(this).is(S.approve)?e.proxy(H.onApprove,j)()!==!1?k.hide():k.verbose("Approve callback returned false cancelling hide"):e(this).is(S.deny)?e.proxy(H.onDeny,j)()!==!1?k.hide():k.verbose("Deny callback returned false cancelling hide"):k.hide()},click:function(i){0===e(i.target).closest(S.modal).size()&&(k.debug("Dimmer clicked, hiding all modals"),H.allowMultiple?k.hide():k.hideAll(),i.stopImmediatePropagation())},debounce:function(e,i){clearTimeout(k.timer),k.timer=setTimeout(e,i)},keyboard:function(e){var i=e.which,n=27;i==n&&(H.closable?(k.debug("Escape key pressed hiding modal"),k.hide()):k.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&g(k.refresh)}},toggle:function(){k.is.active()?k.hide():k.show()},show:function(i){i=e.isFunction(i)?i:function(){},k.showDimmer(),k.showModal(i)},onlyVisible:function(){return k.refreshSelectors(),k.is.active()&&0===b.filter(":visible").size()},othersVisible:function(){return k.refreshSelectors(),b.filter(":visible").size()>0},showModal:function(i){if(k.is.active())return k.debug("Modal is already visible"),void 0;if(i=e.isFunction(i)?i:function(){},k.save.focus(),k.add.keyboardShortcuts(),k.cache===o&&k.cacheSizes(),k.set.position(),k.set.screenHeight(),k.set.type(),k.othersVisible()&&!H.allowMultiple)k.debug("Other modals visible, queueing show animation"),k.hideOthers(k.showModal);else{e.proxy(H.onShow,j)();var n=function(){k.set.active(),e.proxy(H.onVisible,j)(),i()};H.transition&&e.fn.transition!==o&&C.transition("is supported")?(k.debug("Showing modal with css animations"),C.transition(H.transition+" in",H.duration,n)):(k.debug("Showing modal with javascript"),C.fadeIn(H.duration,H.easing,n))}},showDimmer:function(){y.dimmer("is active")?k.debug("Dimmer is already visible"):(k.debug("Showing dimmer"),y.dimmer("show"))},hide:function(i){i=e.isFunction(i)?i:function(){},k.refreshSelectors(),k.onlyVisible()&&k.hideDimmer(),k.hideModal(i)},hideDimmer:function(){return k.is.active()?(k.debug("Hiding dimmer"),H.closable&&w.off("click"+D),y.dimmer("hide",function(){H.transition&&e.fn.transition!==o&&C.transition("is supported")&&(C.transition("reset"),k.remove.screenHeight()),k.remove.active()}),void 0):(k.debug("Dimmer is already hidden"),void 0)},hideModal:function(i){if(!k.is.active())return k.debug("Modal is already hidden"),void 0;i=e.isFunction(i)?i:function(){},k.restore.focus(),k.remove.keyboardShortcuts(),e.proxy(H.onHide,j)();var n=function(){k.remove.active(),e.proxy(H.onHidden,j)(),i()};H.transition&&e.fn.transition!==o&&C.transition("is supported")?(k.debug("Hiding modal with css animations"),C.transition(H.transition+" out",H.duration,n)):(k.debug("Hiding modal with javascript"),C.fadeOut(H.duration,H.easing,n))},hideAll:function(i){i=e.isFunction(i)?i:function(){},(C.is(":visible")||k.othersVisible())&&(k.debug("Hiding all visible modals"),k.hideDimmer(),p.filter(":visible").modal("hide modal",i))},hideOthers:function(i){i=e.isFunction(i)?i:function(){},k.othersVisible()&&(k.debug("Hiding other modals"),b.filter(":visible").modal("hide modal",i))},add:{keyboardShortcuts:function(){k.verbose("Adding keyboard shortcuts"),c.on("keyup"+D,k.event.keyboard)}},save:{focus:function(){v=e(n.activeElement).blur()}},restore:{focus:function(){v&&v.size()>0&&v.focus()}},remove:{active:function(){C.removeClass(x.active)},screenHeight:function(){k.cache.height>k.cache.pageHeight&&(k.debug("Removing page height"),l.css("height",""))},keyboardShortcuts:function(){k.verbose("Removing keyboard shortcuts"),c.off("keyup"+D)},scrolling:function(){y.removeClass(x.scrolling),C.removeClass(x.scrolling)}},cacheSizes:function(){k.cache={pageHeight:l.outerHeight(),height:C.outerHeight()+H.offset,contextHeight:"body"==H.context?e(i).height():y.height()},k.debug("Caching modal and container sizes",k.cache)},can:{fit:function(){return k.cache.height<k.cache.contextHeight}},is:{active:function(){return C.hasClass(x.active)},modernBrowser:function(){return!(i.ActiveXObject||"ActiveXObject"in i)}},set:{screenHeight:function(){k.cache.height>k.cache.pageHeight&&(k.debug("Modal is taller than page content, resizing page height"),l.css("height",k.cache.height+H.padding))},active:function(){if(C.addClass(x.active),H.closable&&w.off("click"+D).on("click"+D,k.event.click),H.autofocus){var e=C.find(":input:visible"),i=e.filter("[autofocus]"),n=i.length?i:e;n.first().focus()}},scrolling:function(){y.addClass(x.scrolling),C.addClass(x.scrolling)},type:function(){k.can.fit()?(k.verbose("Modal fits on screen"),k.remove.scrolling()):(k.verbose("Modal cannot fit on screen setting to scrolling"),k.set.scrolling())},position:function(){k.verbose("Centering modal on page",k.cache),k.can.fit()?C.css({top:"",marginTop:-(k.cache.height/2)}):C.css({marginTop:"1em",top:c.scrollTop()})}},setting:function(i,n){if(k.debug("Changing setting",i,n),e.isPlainObject(i))e.extend(!0,H,i);else{if(n===o)return H[i];H[i]=n}},internal:function(i,n){if(e.isPlainObject(i))e.extend(!0,k,i);else{if(n===o)return k[i];k[i]=n}},debug:function(){H.debug&&(H.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,H.name+":"),k.debug.apply(console,arguments)))},verbose:function(){H.verbose&&H.debug&&(H.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,H.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,H.name+":"),k.error.apply(console,arguments)},performance:{log:function(e){var i,n,o;H.performance&&(i=(new Date).getTime(),o=d||i,n=i-o,d=i,u.push({Element:j,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,100)},display:function(){var i=H.name+":",n=0;d=!1,clearTimeout(k.performance.timer),e.each(u,function(e,i){n+=i["Execution Time"]}),i+=" "+n+"ms",T&&(i+=" '"+T+"'"),(console.group!==o||console.table!==o)&&u.length>0&&(console.groupCollapsed(i),console.table?console.table(u):e.each(u,function(e,i){console.log(i.Name+": "+i["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(i,n,t){var r,a,c,l=E;return n=n||h,t=j||t,"string"==typeof i&&l!==o&&(i=i.split(/[\. ]/),r=i.length-1,e.each(i,function(n,t){var s=n!=r?t+i[n+1].charAt(0).toUpperCase()+i[n+1].slice(1):i;if(e.isPlainObject(l[s])&&n!=r)l=l[s];else{if(l[s]!==o)return a=l[s],!1;if(!e.isPlainObject(l[t])||n==r)return l[t]!==o?(a=l[t],!1):!1;l=l[t]}})),e.isFunction(a)?c=a.apply(t,n):a!==o&&(c=a),e.isArray(s)?s.push(c):s!==o?s=[s,c]:c!==o&&(s=c),a}},f?(E===o&&k.initialize(),k.invoke(m)):(E!==o&&k.destroy(),k.initialize())}),s!==o?s:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!0,detachable:!0,closable:!0,autofocus:!0,context:"body",duration:500,easing:"easeOutQuad",offset:0,transition:"scale",padding:30,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}},e.extend(e.easing,{easeOutQuad:function(e,i,n,o,t){return-o*(i/=t)*(i-2)+n}})}(jQuery,window,document);